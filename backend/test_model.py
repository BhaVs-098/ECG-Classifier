import requests
import pandas as pd
import json




# Load sample ECG data
df = pd.read_csv("sample_ecg.csv")

# Convert the ECG signal values into a list (assuming the model needs this format)
ecg_data = df["ECG Signal"].tolist()

# Prepare request payload
payload = {"ecg_data": ecg_data}  # Adjust the key name based on your FastAPI endpoint

# Send POST request to FastAPI server
url = "http://127.0.0.1:8000/predict/"  # Change if your server runs on a different port
data = {
    "data":[0.0993428306022465, 0.0477492043481646, 0.2799125294340752, 0.5290973799191777, 0.2504991617225051, 0.3216480034204138, 0.7533655735583826, 0.6575665016219063, 0.4738712089077173, 0.7367320060128352, 0.5924135519212883, 0.6449275809182877, 0.8352401496847969, 0.448485833384134, 0.5257203336625209, 0.792850993734402, 0.7321924326002662, 1.0217361612437046, 0.7959504238434442, 0.7081972583023732, 1.2912501258224571, 0.9547446116694418, 1.009492006976689, 0.7014524994530231, 0.86232520736534, 0.9726562752420848, 0.6941314640928478, 0.9680654618187028, 0.7363098579095849, 0.7567343915276068, 0.6487266841284374, 1.0891397617703262, 0.6615089158580274, 0.3944086904723681, 0.7087523470522169, 0.2352684322946054, 0.4536739672449439, -0.0499138814502861, 0.0045545111040961, 0.2361971886415302, 0.2700308403775398, 0.0814272255902998, -0.0514285145607661, -0.163810902950097, -0.4739960692314614, -0.395946903064067, -0.4163575496763285, -0.1832110575056577, -0.3940706650536063, -0.8809262198185979, -0.526017241126999, -0.7270023791369101, -0.840821467207145, -0.6345364942368181, -0.5977972258677505, -0.6602888665068207, -1.0521162876533054, -0.978808476966256, -0.8781857191001161, -0.7714245521335695, -1.0789605653647625, -1.0312521528227026, -1.2207218926302752, -1.238340291020816, -0.8305494246615279, -0.7101081750393949, -0.9784723711322176, -0.7405889259510984, -0.8408341221634565, -1.0088519467374542, -0.7692061761983676, -0.4907442253812127, -0.7578375130747149, -0.3857903311895667, -1.1667366305044884, -0.418815896331229, -0.5028752983339448, -0.5142122165380515, -0.3675974036882285, -0.7128047214956816, -0.2867715629460906, -0.0975783060194995, 0.2013765726206768, -0.1225213484391962, -0.1051236713948453, 0.0313438801187166, 0.3891461349521073, 0.3450131052247666, 0.2449180100979228, 0.5231329998918852, 0.5071104536832426, 0.7458626444596477, 0.4730181154911913, 0.6056987900213489, 0.646790368133966, 0.4823607392531778, 0.8797266305200023, 0.9134808823752084, 0.8981560672708059, 0.8809716006214797, 0.6702875239673467, 0.8892772162029312, 0.919365823634824, 0.8363309863127105, 0.9677317321425122, 1.0783079679574072, 1.3665645698955995, 1.0104397350482064, 1.0076768128838038, 0.9164761063066208, 0.5175068024861366, 0.8607226286945948, 0.8379050229517482, 1.2736388901429747, 0.6932031331454542, 0.7385038042813894, 0.6139096409021945, 0.3262391786136888, 0.7244738815873938, 0.579406960599682, 0.5178951190531447, 0.1064316993132739, 0.4958470029323104, -0.1393288806335361, 0.1833629123866756, 0.4286570529360987, -0.2829131895016467, -0.2729544737081032, -0.2137444229467232, -0.4070191504300236, -0.6873619505159964, -0.43227413072387, -0.7246656706983344, -0.4807883666428525, -0.8194169326911447, -0.381951987974038, -0.901056704355666, -0.8570471939828193, -0.6736473654918422, -1.1214777639646036, -0.8637833908930621, -0.6766402760396797, -1.2830179571593707, -0.9425725276746556, -0.939923876409192, -0.8422895367209944, -1.2471120164460052, -1.259188968067121, -0.8804194398888288, -0.9095138485895128, -0.8973986766512551, -0.8513994211534687, -1.024643810968054, -0.8050783983011112, -0.7509566686810086, -0.9058741179768022, -0.3389373832020745, -0.5623598010868317, -0.8366797858314575, -0.4049939215106178, -0.666073043128484, -0.2458694017354899, -0.1014206789405763, -0.4252329740824303, 0.0051085724730269, -0.0304126860417739, 0.1266841393201814, 0.4170864892095068, 0.0638912482284985, 0.0368194205043385, 0.0831936244869842, 0.1699777377489701, 0.3878659806011603, 0.5393671040463461, 0.5916428031033854, 0.7638557361981319, 0.6597267636447699, 1.0027991008624886, 0.7100724677239356, 1.3536049966586683, 0.9766626072863124, 0.7172073553690991, 0.7065105634406402, 1.0439917297690666, 0.9242182261709796, 1.1276078518306265, 1.0897451703649748, 0.9851560917390144, 0.8292953674627755, 0.6889309903217039, 0.8901963089677125, 1.1328010691118204, 0.9808875757222072, 0.6601276220714909, 0.9099410858480496, 0.913414284911544, 0.6158634035014592, 0.7751510670775248, 0.7035806126667467, 0.4069380262782601, 0.6470643248395463, 0.6243618332267612, 0.6625969743201302, 0.5879896747097497, 0.0307901460153647, 0.0461096879812278, 0.26270198122928, 0.18756311465795, 0.1124436094871058, 0.7045548045043237, -0.0268632297862856, 0.0118249872910284, -0.0975088375735803, -0.2294104793833763, -0.492074202990397, -0.3441154745857353, -0.7145398290451103, -0.6682157161912442, -0.775267045380487, -0.7153004982244147, -0.3180587543112152, -1.199312019481893, -0.7287733657095367, -1.2238042197838743, -1.0257516626177412, -0.7383766153457775, -0.9626681686627462, -1.204876345239355, -1.1405585384464934, -0.8640693246887788, -1.1428597665004616, -0.944617009023783, -0.96429191277524, -1.0836817418985931, -0.4991002094314439, -0.7703495714787125, -1.2662983452707524, -0.7832117121532017, -0.9074210218332804, -0.5547253318011527, -0.8297353670274421, -0.6363760225600423, -0.4511361905569785, -0.3145439049796118, -0.66053879468037, -0.4177702980195195, -0.3742519455250226, -0.3367315579264349, 0.2213955592205935, 0.0244212930083978, -0.2333094860825414, 0.2777746257385798, 0.5934320597243754, 0.4493302374888141, 0.0114169453846986, 0.2891027444220786, 0.7077929762822002, 0.378750818857822, 0.6719602828355196, 0.7977144203724054, 0.5133329680367508, 0.7387672340403628, 0.1500980706605907, 0.6366077690331924, 0.8293143655377964, 0.663604690780013, 1.2677777663158294, 0.678042071224024, 0.8933472834141628, 1.0192027045975856, 1.2873536240179049, 0.7122824675931817, 1.2267531079209313, 0.985172329999622, 0.770231847348452, 1.0368591002334837, 0.9567779409107072, 0.7642294075770197, 0.8605053073280647, 0.7269344109945903, 0.7795752210552425, 0.8378632020501626, 0.9671892862827188, 0.343270935240589, 0.9549248636773076, 0.0723767630628002, 0.3642784837423247, 0.4418932367812889, 0.3081764349321331, 0.0537517671938607, 0.0619657137607865, -0.0703013288486475, -0.1650265207411448, 0.0475828950257494, -0.1254218442746955, -0.4087736399359105, -0.1621001682390174, -0.3504413440686676, -0.3168647385210158, -0.4183175962468558, -0.7717498784479602, -0.7762445688450067, -0.5692254038438833, -0.6469939534876223, -0.8192534602790913, -0.8329721192315878, -0.6373928789918826, -1.0426444573444726, -0.8410522810661032, -1.011640282757155, -1.029938377341158, -0.776230995641666, -0.8348166019691429, -0.8354184448380186, -0.7295622371385659, -0.9733544706211352, -0.8224961004656578, -0.9968120079858426, -0.8404752290849096, -0.8967325110386655, -0.8117426893171524, -0.6678162902842071, -0.9017176682790324, -0.266619635346689, -0.8294234735955819, -0.8106038086522551, -0.2724573810913108, -0.2791904716643157, -0.2436514313998195, -0.1716607348143157, -0.226940763206957, -0.3298256961111032, -0.0602411529436551, -0.1354323423024233, 0.2704260112659522, 0.1209633455135107, 0.0593919692790698, 0.2330526683365744, 0.4510616856653736, 0.3247780998961094, 0.3396354766780394, 0.6165035283930895, 0.6772133115173872, 0.5837084554095537, 0.6438658705086744, 0.833257682843118, 0.5415250140162282, 0.5892111452898166, 0.7616196553321085, 0.8920692263247814, 1.021068207844251, 1.2726264823375963, 1.1621899232098354, 0.9661326660454612, 0.9960966301862112, 0.7954804931115425, 0.9826995094972368, 0.9134700244863488, 1.0150154693677294, 0.7588839908668442, 0.9967951609978029, 1.1629853784938626, 0.7933211117948913, 0.8494103509941049, 0.8567129232107621, 0.583964266428447, 0.6507693726256335, 0.546761844787939, 0.4989723819985759, 0.2572992914729012, 0.3469221781774579, 0.3697913791328714, 0.4870536630267153, 0.3141916895954988, 0.4777900608546194, -0.1817683706607269, 0.070873963511896, -0.1416232700103037, 0.1859825252584098, -0.4858894525553986, -0.5625798711855948, -0.5826728520561034, -0.9530973336080109, -0.6959850393421094, -0.8018124553643838, -0.6753583098507103, -0.6885205568495597, -0.4287629625237618, -0.6564601226928498, -0.9996535141412582, -1.096648936065684, -0.8460545710795275, -1.230580218962169, -0.6168339646248333, -0.7582323333456817, -1.0932900282500104, -1.341725872022857, -0.7222801143072854, -1.0042641498040834, -0.7165070844214586, -1.2601810372883766, -1.033036331763737, -0.8787792558727927, -0.8320891785471011, -0.8883646329702531, -0.6261023187832244, -0.9122431482288852, -0.6712635066907983, -0.5591372708638928, -0.417396945169827, -0.3120877708270994, -0.6108779773629013, -0.6221137727226242, 0.0126981790011151, -0.1025380179259288, -0.2438995436389372, 0.2913630903200386, 0.0797099760423665, 0.3675547256483892, 0.2195694076937159, 0.691412468269227, 0.7019382193399721, 0.3706866835734015, 0.6820091340045056, 0.6812088362700978, 0.8871550457731335, 0.4782465272248821, 0.862422290760084, 0.9867486262495212, 0.4687546778224652, 0.624618125406075, 0.4892869403902953, 0.8740076604075983, 1.0968701235366216, 1.273877691175208, 1.0027276830241334, 1.3225095492712926, 0.7239685828327358, 0.6568213087234684, 0.9782178498741696, 1.0523372622697007, 0.9496277851204316, 0.5178768694518785, 0.8834370376433875, 0.6051315036834661, 0.9597934907295502, 0.8543101168652878, 0.5436993688362095, 0.5754209523473264, 0.4090092904654536, 0.5474389666829632, 0.6869377827846351, 0.2318751447952176, 0.4604980327481066, 0.182257666597731, 0.056713574292621, 0.1196352599340094, -0.1410569708572575, -0.1201639332953342, -0.3243815029932777, 0.2332500987957317, -0.2266219855699082, -0.4462691212052999, -0.3344332821559229, -0.4684523356232438, -0.5563988478597587, -0.4526735127612029, -0.484030543834925, -0.798039098499652, -0.8595696940173538, -0.8476452301720112, -1.2967350419128936, -1.1783431131175226, -0.635900524324982, -0.6090752841959095, -1.011328518158401, -0.8641879067699626, -0.9296504043501698, -0.382877949385409, -0.7758068919834735, -1.020681163746419, -1.1759158411322932, -1.290200047287665, -0.9068045195469866, -1.0719592121097234, -1.1730896085718914, -0.9808437145818186, -1.0258807640636225, -0.4255755073570151, -0.5357643340411377, -0.6587209135325107, -0.302430258612922, -0.520830981707861, -0.6433935493486687, -0.0986615070300497, -0.2253577860051279, -0.4685457412773838, -0.2256343889925583, -0.288092522106026, -0.3142878388715883, 0.2229634021850464, 0.4948521995230978, -0.0921468613879944, 0.3736903577502039, 0.2030112809176915, 0.3058612457310394, 0.3526579242352395, 0.363506489301419, 0.6081234119798903, 0.4909363619869775, 0.7661836505869936, 0.7529562124816988, 0.7617815539674597, 0.6700164053249922, 0.7732846005386884, 1.0717673082180128, 1.0476806842453064, 0.7733997342764392, 1.004674214098053, 1.1453750701246233, 0.6658408180461146, 1.1073261495524436, 0.859375683469708, 1.0936190330997484, 0.8088694789386228, 0.5770924067632635, 0.5837668902372555, 0.88492189001009, 0.8882953093100745, 0.6117715657208024, 0.8721245376438945, 0.3596348565237565, 0.6223161261149249, 0.3333036128173989, 0.3818377063926847, 0.4554664599483632, 0.2051465912459795, 0.2294129107608206, 0.434933257807145, 0.0443165538829192, 0.2519443468885393, -0.2165072987056229, 0.0399693419564422, 0.147272392206662, -0.7096170407705449, -0.4476882413663118, -0.244274304208427, -0.4696294312709222, -0.4216801440101232, -0.6807718234807593, -0.6035340373486616, -0.7093297828930788, -0.4981189137697172, -0.7301062989856738, -0.7583384485485004, -0.948400797008929, -0.9987822903604427, -1.0178769270237769, -0.8772763062635899, -1.059721068645891, -0.9313724182742104, -0.5824176368654115, -0.8257639337893756, -1.061991146590603, -0.7476659425073897, -1.0550213553603132, -1.360986579413001, -1.1295062894799917, -1.271291760147488, -0.9315725247474932, -0.8168188992691795, -0.4397762664245489, -0.6598265240075656, -0.7150513251026781, -0.4475476180299682, -0.9943607081546476, -0.4405720321919237, -0.2663064744918255, -0.6465873000073057, -0.0505120746514465, -0.1383664299128142, -0.2147528716157905, 0.0699813240374628, 0.4730058763453423, 0.130575487339319, 0.218644937581915, 0.1509650054705349, 0.1453220646825387, 0.5520167223041771, 0.2831939812631012, 0.534597959425453, 0.4876649078532439, 0.7385835748358157, 0.7654514834097538, 0.9581802941042996, 0.6963482589034553, 0.7875103102413736, 0.6840752526599647, 0.8243026751577602, 1.0167556041384724, 1.1154680701452195, 0.7969231159180342, 1.1669757731614994, 1.2702265379656716, 1.08214187847381, 1.3694795200015526, 0.8283678779749906, 0.71760263689576, 0.588694355599974, 1.2161748640938517, 1.0151459142795922, 0.8354279561479704, 0.859990855630907, 0.5317739425453206, 1.1945874630693245, 0.6758301594486947, 0.6127129939269411, 0.6734715135257965, 0.5589961693146442, 0.4394123076052718, 0.1661349043953155, 0.3462717328123267, 0.5546965704529873, 0.3726741730632416, 0.3469361834109994, -0.1493967046385386, -0.3202584884301671, -0.2219823254876267, -0.2590467384260397, -0.1231818396314736, -0.7503941741869493, -0.1735270983966841, -0.5758449443473723, -0.6913270902530261, -0.8666292358576456, -1.049655459241689, -0.6044338897819295, -0.8004095480485803, -1.1144297758415544, -1.1519416125622888, -0.9914871194353306, -0.6166674522422341, -1.0231200225430976, -1.2870307273193355, -1.0451349788562936, -1.0544445857162832, -1.5374977006264603, -1.0015169718729937, -1.0237421449894215, -0.8196454217619662, -0.5649674376780828, -0.6799954936730439, -0.9244816382760932, -1.0524470640640289, -0.2721757347216161, -0.7262298448294409, -0.6823112321011926, -0.6330450147176402, -0.5281491339411356, -0.5329516381761137, -0.5522554118329542, -0.4778471830583266, -0.3038804907103722, -0.333176362864328, -0.2929439783493672, -0.0541160190440219, -0.050995443484173, 0.3762006622989422, -0.379819139864665, 0.4427927790220636, 0.5465468751667015, -0.0462026516713788, 0.3689854916408337, 0.4297913825921635, 0.2862637471511449, 0.4726566597774668, 0.4629819213906132, 1.088527620317065, 0.9739833740010824, 1.0854529013145242, 1.015038312973776, 0.6794981453391509, 0.8298546034111957, 1.0567616069702344, 0.7331296771692974, 1.133257684603909, 0.9500552924065192, 0.9249357102568294, 1.1381783596798027, 1.075254798992923, 0.8990085191065599, 1.1823377179729613, 0.7081175140573297, 1.0161129795384198, 0.9750578474870224, 0.7531638536234654, 0.8342946110227432, 0.4684614095914772, 0.8490137646469952, 0.5689704489749531, 0.4396987605277699, 0.6892390074561884, 0.2710325101354436, 0.060327884052955, -0.0411341138209982, 0.3180269317368358, -0.1337483461208017, 0.3981124057491784, -0.4446847396598605, 0.2357011098257725, -0.1360881777174529, -0.2713206837592022, -0.4332136128461574, -0.3148082798790277, -0.4703212634522677, -0.3076578123427443, -0.5679885052735514, -0.6199255707612707, -0.7781595095887224, -0.7682608767492067, -0.7424367765885288, -1.1885785688613846, -1.1539098674299182, -0.7683131829914704, -0.91026531775524, -1.0033302448285764, -0.9794389311826256, -0.9246040164176048, -1.1074068338909415, -1.154759911285144, -0.9538855381208314, -1.1770307362765666, -0.8824197956732578, -1.2818122263770717, -0.7073301997078554, -0.7853084993338229, -0.7902793504372749, -0.6018133418853043, -0.4175774163602118, -0.4958450493487408, -1.0109624559528694, -0.8391117905534166, -0.6452484275207135, -0.4491925364027114, -0.282417754901507, -0.4604397012062007, -0.2054838324831719, -0.3200774067925162, -0.2165057969260206, -0.3001995241541114, -0.1280716000383906, -0.1386416322876473, 0.0108910608162266, 0.4899912426143965, 0.1609902730849383, 0.9469559262366936, 0.5863585239898114, 0.5891008710920421, 0.4417571782304147, 0.8112931952227006, 0.6100844335128406, 0.7994656918086709, 1.3325194827608464, 0.8420578479942996, 1.126988041199447, 0.7872537422713318, 0.9463639742780364, 1.327566407883104, 0.8625153153826235, 1.3592761517564198, 1.1415392615668092, 0.8850044414156466, 1.1158089374645976, 1.1700350624071854, 1.0805287271826918, 0.6173203454817628, 0.7558336103809719, 0.8165216766741399, 0.8109722951435338, 0.9051248871560544, 0.767215526288332, 0.4111254640726507, 0.6968915650444374, 0.682091935194363, 0.6078674082706025, 0.6451764991732517, 0.5264731605543195, 0.3801452061179143, 0.2012549984533613, -0.1911508547782763, 0.1519151374531425, 0.0321034652067254, -0.0304901570364323, -0.415044642951607, -0.4498860040458986, -0.0956934489402011, -0.3851402950740973, -0.3096865862105457, -0.506541252727021, -0.5695556248707382, -0.4478753246491856, -0.7951478146210257, -0.7251818905002253, -0.8850899484826946, -0.9232500544522392, -0.9371393253715432, -0.8648486234871469, -1.0338185512288611, -0.7103700851324231, -1.158420759825018, -1.0292747640911486, -1.086600322731292, -0.7103262973996421, -0.9557866901479508, -0.7784388451184813, -1.266022857843543, -0.8940871935465775, -0.7427629039281757, -0.8721820687972688, -0.6384330627202398, -0.9130288533608184, -0.4811343463344082, -0.2523126607071734, -0.7296940973571198, -0.6875195906710767, -0.2456277478138392, -0.1552222799368742, -0.5078583279146358, -0.4171771581612253, -0.3174534321841881, -0.456456755582693, -0.2966992607259081, -0.2385560460291285, -0.1158316203421085, 0.1060318939517215, 0.2344095998831439, 0.5711966089749041, 0.1334689865943045, 0.600150802179301, 0.4283389402379169, 0.5264119013068947, 0.7333829848242506, 0.4325819809567299, 0.7885742346678353, 0.7962942760141414, 0.9080614161423752, 0.9093628665148747, 1.3796988946345368, 0.793141066202598, 0.8412978557200663, 0.8442826779511983, 0.8737123291801564, 0.8676202199889624, 1.2375251804918994, 1.2827549606744275, 0.8777511765089814, 0.8130281847602696, 1.0558044215244071, 0.827624218039971, 1.0358617413649878, 0.9158895048480742, 0.5332019859663284, 1.1021359310076928, 1.1035815805075249, 0.5693811308806669, 0.5579917738571812, 0.6326799309148722, 0.5790962859505163, 0.5776955802196474, 0.7792701720560409, 0.2709345741079699, 0.074015247056567, -0.1161689178153554, -0.0613800835128789, 0.0028086776511422, 0.2929200790769371, -0.2445635917321584, -0.1705305504173062, -0.2915937694867727, -0.122010074954924, 0.0763661311124015, -0.6020830732684543, -0.6578626746412446, -0.4120198194294264, -0.5418160378894052, -0.362333860954476, -0.6642048305807229, -0.8977173991209562, -0.7478944376459802, -0.6795203294293619, -0.7672688532203822, -0.8547119285177937, -0.7621892345640077, -0.7554682715643593, -0.7210659983869938, -0.8702468969577855, -1.0302100562204048, -0.9585659896535142, -0.7321044874543318, -1.1167488065748756, -0.854154365521931, -0.9758011384077864, -0.855520863352265, -0.5648122025856306, -0.736843915275621, -0.7159246891291642, -0.9432024475368898, -0.4641780210612171, -0.4230368101248505, -0.0550439991525457, -0.4820351602598136, -0.3070399853185371, -0.2293861465506823, 0.1094249445410038, -0.1507543953130076, -0.0007707440297273, 0.140446606727777, 0.1315240609588907, 0.0797140974117411, 0.2816551839582512, 0.5300172885474506, 0.180646499113115, 0.4810046812742554, 0.3802605489937389, 0.8222057229912407, 0.338150228729787, 0.5869346928980457, 0.8261146802656282, 1.1114563445212766, 0.8283352450854499, 0.7687880904777894, 1.289392741061103, 0.6516927254462529, 0.5243091554921344, 1.069359070764227, 0.8926437442698448, 0.794852402778539, 1.14112618728894, 1.0428805002441792, 0.8703099916483583, 0.7104726978238647, 1.118929871036859, 1.047006237387745, 0.8644376102529047, 1.215872289539595, 0.5899801771017088, 0.4517667178200487, 0.5670554531697057, 0.640868719782545, 0.6395019248705016, 0.4800709771747867, 0.5332054022701554, 0.1443276179113576, 0.612982716299024, 0.2355478257066078, 0.4017508374756069, 0.1721352331077808, 0.1196495019138706, 0.0667998866941401, -0.032795812374994, -0.0682803894942013, -0.0043612148572914, -0.302715909385375, -0.270100496726295, -0.4973843011462515, -0.256219921541685, -0.7412293366753954, -0.3040202742234481, -0.7267157149974081, -1.0552230269979217, -0.7894522585041027, -0.992647927388323, -0.7247971483518201, -1.0548549754377854, -1.0397084439430684, -1.3491098984594811, -1.0768634005455295, -1.4807622313648958, -1.3166804364638935, -0.8460374408092869, -0.8334979668392647, -0.8924637265906946, -1.1522819233504928, -0.9443009278955456, -0.9060290074007126, -1.1023768380036365, -0.530462221962261, -0.6113752372564589, -0.782266366398272, -0.6797199226848815, -0.5865434357061352, -0.9761130597795656, -0.5535150322954515, -0.5739198600564676, -0.5687993967892322, -0.3535498952443713, 0.1350458967323285, -0.0222062495605332, -0.1896378625389687, 0.1145165562712287]  # Add your actual ECG values here
}

response = requests.post(url, json=data)

# Print the response
print("Response:", response.json())

